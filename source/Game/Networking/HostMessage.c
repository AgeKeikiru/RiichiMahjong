/* HostMessage.c generated by valac 0.12.0, the Vala compiler
 * generated from HostMessage.vala, do not modify */


#include <glib.h>
#include <glib-object.h>


#define TYPE_MESSAGE (message_get_type ())
#define MESSAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MESSAGE, Message))
#define MESSAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MESSAGE, MessageClass))
#define IS_MESSAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MESSAGE))
#define IS_MESSAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MESSAGE))
#define MESSAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MESSAGE, MessageClass))

typedef struct _Message Message;
typedef struct _MessageClass MessageClass;
typedef struct _MessagePrivate MessagePrivate;

#define TYPE_GAME_MESSAGE (game_message_get_type ())
#define GAME_MESSAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_GAME_MESSAGE, GameMessage))
#define GAME_MESSAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_GAME_MESSAGE, GameMessageClass))
#define IS_GAME_MESSAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_GAME_MESSAGE))
#define IS_GAME_MESSAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_GAME_MESSAGE))
#define GAME_MESSAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_GAME_MESSAGE, GameMessageClass))

typedef struct _GameMessage GameMessage;
typedef struct _GameMessageClass GameMessageClass;
typedef struct _GameMessagePrivate GameMessagePrivate;

#define TYPE_HOST_MESSAGE (host_message_get_type ())
#define HOST_MESSAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_HOST_MESSAGE, HostMessage))
#define HOST_MESSAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_HOST_MESSAGE, HostMessageClass))
#define IS_HOST_MESSAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_HOST_MESSAGE))
#define IS_HOST_MESSAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_HOST_MESSAGE))
#define HOST_MESSAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_HOST_MESSAGE, HostMessageClass))

typedef struct _HostMessage HostMessage;
typedef struct _HostMessageClass HostMessageClass;
typedef struct _HostMessagePrivate HostMessagePrivate;

#define TYPE_PLAYER_CONNECTED_MESSAGE (player_connected_message_get_type ())
#define PLAYER_CONNECTED_MESSAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_PLAYER_CONNECTED_MESSAGE, PlayerConnectedMessage))
#define PLAYER_CONNECTED_MESSAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_PLAYER_CONNECTED_MESSAGE, PlayerConnectedMessageClass))
#define IS_PLAYER_CONNECTED_MESSAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_PLAYER_CONNECTED_MESSAGE))
#define IS_PLAYER_CONNECTED_MESSAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_PLAYER_CONNECTED_MESSAGE))
#define PLAYER_CONNECTED_MESSAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_PLAYER_CONNECTED_MESSAGE, PlayerConnectedMessageClass))

typedef struct _PlayerConnectedMessage PlayerConnectedMessage;
typedef struct _PlayerConnectedMessageClass PlayerConnectedMessageClass;

#define TYPE_GAME_START_MESSAGE (game_start_message_get_type ())
#define GAME_START_MESSAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_GAME_START_MESSAGE, GameStartMessage))
#define GAME_START_MESSAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_GAME_START_MESSAGE, GameStartMessageClass))
#define IS_GAME_START_MESSAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_GAME_START_MESSAGE))
#define IS_GAME_START_MESSAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_GAME_START_MESSAGE))
#define GAME_START_MESSAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_GAME_START_MESSAGE, GameStartMessageClass))

typedef struct _GameStartMessage GameStartMessage;
typedef struct _GameStartMessageClass GameStartMessageClass;

struct _Message {
	GObject parent_instance;
	MessagePrivate * priv;
};

struct _MessageClass {
	GObjectClass parent_class;
};

struct _GameMessage {
	Message parent_instance;
	GameMessagePrivate * priv;
};

struct _GameMessageClass {
	MessageClass parent_class;
};

struct _HostMessage {
	GameMessage parent_instance;
	HostMessagePrivate * priv;
};

struct _HostMessageClass {
	GameMessageClass parent_class;
};

struct _HostMessagePrivate {
	guint32 type;
};


static gpointer host_message_parent_class = NULL;

GType message_get_type (void) G_GNUC_CONST;
GType game_message_get_type (void) G_GNUC_CONST;
GType host_message_get_type (void) G_GNUC_CONST;
#define HOST_MESSAGE_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_HOST_MESSAGE, HostMessagePrivate))
enum  {
	HOST_MESSAGE_DUMMY_PROPERTY
};
#define HOST_MESSAGE_PLAYER_CONNECTED ((guint32) 0x1)
#define HOST_MESSAGE_GAME_START ((guint32) 0x2)
HostMessage* host_message_new (GArray* chunks, guint32 type);
HostMessage* host_message_construct (GType object_type, GArray* chunks, guint32 type);
guint8* int_to_data (guint32 n, int* result_length1);
#define GAME_MESSAGE_HOST ((guint32) 0x10)
GameMessage* game_message_new (GArray* chunks, guint32 type);
GameMessage* game_message_construct (GType object_type, GArray* chunks, guint32 type);
HostMessage* host_message_parse (guint8* data, int data_length1);
guint32 game_message_get_uint_at (guint8* data, int data_length1, gint pos);
PlayerConnectedMessage* player_connected_message_new (guint8* data, int data_length1);
PlayerConnectedMessage* player_connected_message_construct (GType object_type, guint8* data, int data_length1);
GType player_connected_message_get_type (void) G_GNUC_CONST;
GameStartMessage* game_start_message_new (guint8* data, int data_length1);
GameStartMessage* game_start_message_construct (GType object_type, guint8* data, int data_length1);
GType game_start_message_get_type (void) G_GNUC_CONST;
static void host_message_finalize (GObject* obj);


HostMessage* host_message_construct (GType object_type, GArray* chunks, guint32 type) {
	HostMessage * self = NULL;
	gint _tmp0_;
	guint8* _tmp1_ = NULL;
	guint8* _tmp2_;
	gint _tmp2__length1;
	g_return_val_if_fail (chunks != NULL, NULL);
	_tmp1_ = int_to_data (type, &_tmp0_);
	_tmp2_ = _tmp1_;
	_tmp2__length1 = _tmp0_;
	g_array_insert_vals (chunks, (guint) 0, _tmp2_, (guint) 4);
	_tmp2_ = (g_free (_tmp2_), NULL);
	self = (HostMessage*) game_message_construct (object_type, chunks, GAME_MESSAGE_HOST);
	self->priv->type = type;
	return self;
}


HostMessage* host_message_new (GArray* chunks, guint32 type) {
	return host_message_construct (TYPE_HOST_MESSAGE, chunks, type);
}


HostMessage* host_message_parse (guint8* data, int data_length1) {
	HostMessage* result = NULL;
	guint32 _tmp0_;
	guint32 t;
	guint8* _tmp1_ = NULL;
	guint8* d;
	gint d_length1;
	gint _d_size_;
	_tmp0_ = game_message_get_uint_at (data, data_length1, 0);
	t = _tmp0_;
	_tmp1_ = g_new0 (guint8, data_length1 - 4);
	d = _tmp1_;
	d_length1 = data_length1 - 4;
	_d_size_ = data_length1 - 4;
	{
		gint i;
		i = 0;
		{
			gboolean _tmp2_;
			_tmp2_ = TRUE;
			while (TRUE) {
				if (!_tmp2_) {
					i++;
				}
				_tmp2_ = FALSE;
				if (!(i < d_length1)) {
					break;
				}
				d[i] = data[i + 4];
			}
		}
	}
	switch (t) {
		case HOST_MESSAGE_PLAYER_CONNECTED:
		{
			PlayerConnectedMessage* _tmp3_ = NULL;
			_tmp3_ = player_connected_message_new (d, d_length1);
			result = (HostMessage*) _tmp3_;
			d = (g_free (d), NULL);
			return result;
		}
		case HOST_MESSAGE_GAME_START:
		{
			GameStartMessage* _tmp4_ = NULL;
			_tmp4_ = game_start_message_new (d, d_length1);
			result = (HostMessage*) _tmp4_;
			d = (g_free (d), NULL);
			return result;
		}
		default:
		break;
	}
	result = NULL;
	d = (g_free (d), NULL);
	return result;
}


static void host_message_class_init (HostMessageClass * klass) {
	host_message_parent_class = g_type_class_peek_parent (klass);
	g_type_class_add_private (klass, sizeof (HostMessagePrivate));
	G_OBJECT_CLASS (klass)->finalize = host_message_finalize;
}


static void host_message_instance_init (HostMessage * self) {
	self->priv = HOST_MESSAGE_GET_PRIVATE (self);
}


static void host_message_finalize (GObject* obj) {
	HostMessage * self;
	self = HOST_MESSAGE (obj);
	G_OBJECT_CLASS (host_message_parent_class)->finalize (obj);
}


GType host_message_get_type (void) {
	static volatile gsize host_message_type_id__volatile = 0;
	if (g_once_init_enter (&host_message_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (HostMessageClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) host_message_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (HostMessage), 0, (GInstanceInitFunc) host_message_instance_init, NULL };
		GType host_message_type_id;
		host_message_type_id = g_type_register_static (TYPE_GAME_MESSAGE, "HostMessage", &g_define_type_info, 0);
		g_once_init_leave (&host_message_type_id__volatile, host_message_type_id);
	}
	return host_message_type_id__volatile;
}



