/* Environment.c generated by valac 0.16.1, the Vala compiler
 * generated from Environment.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <SDL2/SDL_video.h>
#include <SDL2/SDL.h>
#include <GL/glew.h>
#include <SDL2/SDL_image.h>
#include <gobject/gvaluecollector.h>


#define TYPE_ENVIRONMENT (environment_get_type ())
#define ENVIRONMENT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_ENVIRONMENT, Environment))
#define ENVIRONMENT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_ENVIRONMENT, EnvironmentClass))
#define IS_ENVIRONMENT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_ENVIRONMENT))
#define IS_ENVIRONMENT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_ENVIRONMENT))
#define ENVIRONMENT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_ENVIRONMENT, EnvironmentClass))

typedef struct _Environment Environment;
typedef struct _EnvironmentClass EnvironmentClass;
typedef struct _EnvironmentPrivate EnvironmentPrivate;

#define ENVIRONMENT_TYPE_CURSOR_TYPE (environment_cursor_type_get_type ())
#define _SDL_free0(var) ((var == NULL) ? NULL : (var = (SDL_free (var), NULL)))
#define _SDL_FreeCursor0(var) ((var == NULL) ? NULL : (var = (SDL_FreeCursor (var), NULL)))
#define _g_rand_free0(var) ((var == NULL) ? NULL : (var = (g_rand_free (var), NULL)))
typedef struct _ParamSpecEnvironment ParamSpecEnvironment;

struct _Environment {
	GTypeInstance parent_instance;
	volatile int ref_count;
	EnvironmentPrivate * priv;
};

struct _EnvironmentClass {
	GTypeClass parent_class;
	void (*finalize) (Environment *self);
};

typedef enum  {
	ENVIRONMENT_CURSOR_TYPE_DEFAULT,
	ENVIRONMENT_CURSOR_TYPE_HOVER
} EnvironmentCursorType;

struct _ParamSpecEnvironment {
	GParamSpec parent_instance;
};


static gpointer environment_parent_class = NULL;
extern SDL_Window* environment_window;
SDL_Window* environment_window = NULL;
static GRand* environment_rand;
static GRand* environment_rand = NULL;
static gboolean environment_initialized;
static gboolean environment_initialized = FALSE;
static SDL_GLContext* environment_context;
static SDL_GLContext* environment_context = NULL;
static SDL_Cursor* environment_default_cursor;
static SDL_Cursor* environment_default_cursor = NULL;
static SDL_Cursor* environment_hover_cursor;
static SDL_Cursor* environment_hover_cursor = NULL;

gpointer environment_ref (gpointer instance);
void environment_unref (gpointer instance);
GParamSpec* param_spec_environment (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_environment (GValue* value, gpointer v_object);
void value_take_environment (GValue* value, gpointer v_object);
gpointer value_get_environment (const GValue* value);
GType environment_get_type (void) G_GNUC_CONST;
enum  {
	ENVIRONMENT_DUMMY_PROPERTY
};
GType environment_cursor_type_get_type (void) G_GNUC_CONST;
#define ENVIRONMENT_ORIGINAL_WINDOW_WIDTH 1280
#define ENVIRONMENT_ORIGINAL_WINDOW_HEIGHT 720
gboolean environment_init (void);
gboolean sound_init (void);
void sound_quit (void);
void networking_init (void);
void environment_exit (void);
void texture_clear_cache (void);
void environment_set_cursor (EnvironmentCursorType type);
Environment* environment_new (void);
Environment* environment_construct (GType object_type);
GRand* environment_get_random (void);
static void environment_finalize (Environment* obj);

static const GLfloat ENVIRONMENT_light_ambient[4] = {(GLfloat) 0.0f, (GLfloat) 0.0f, (GLfloat) 0.0f, (GLfloat) 1.0f};
static const GLfloat ENVIRONMENT_light_diffuse[4] = {(GLfloat) 1.0f, (GLfloat) 1.0f, (GLfloat) 1.0f, (GLfloat) 1.0f};
static const GLfloat ENVIRONMENT_light_specular[4] = {(GLfloat) 1.0f, (GLfloat) 1.0f, (GLfloat) 1.0f, (GLfloat) 1.0f};
static const GLfloat ENVIRONMENT_light_position[4] = {(GLfloat) 2.0f, (GLfloat) 5.0f, (GLfloat) 5.0f, (GLfloat) 0.0f};
static const GLfloat ENVIRONMENT_mat_ambient[4] = {(GLfloat) 0.7f, (GLfloat) 0.7f, (GLfloat) 0.7f, (GLfloat) 1.0f};
static const GLfloat ENVIRONMENT_mat_diffuse[4] = {(GLfloat) 0.8f, (GLfloat) 0.8f, (GLfloat) 0.8f, (GLfloat) 1.0f};
static const GLfloat ENVIRONMENT_mat_specular[4] = {(GLfloat) 1.0f, (GLfloat) 1.0f, (GLfloat) 1.0f, (GLfloat) 1.0f};
static const GLfloat ENVIRONMENT_high_shininess[1] = {(GLfloat) 100.0f};

GType environment_cursor_type_get_type (void) {
	static volatile gsize environment_cursor_type_type_id__volatile = 0;
	if (g_once_init_enter (&environment_cursor_type_type_id__volatile)) {
		static const GEnumValue values[] = {{ENVIRONMENT_CURSOR_TYPE_DEFAULT, "ENVIRONMENT_CURSOR_TYPE_DEFAULT", "default"}, {ENVIRONMENT_CURSOR_TYPE_HOVER, "ENVIRONMENT_CURSOR_TYPE_HOVER", "hover"}, {0, NULL, NULL}};
		GType environment_cursor_type_type_id;
		environment_cursor_type_type_id = g_enum_register_static ("EnvironmentCursorType", values);
		g_once_init_leave (&environment_cursor_type_type_id__volatile, environment_cursor_type_type_id);
	}
	return environment_cursor_type_type_id__volatile;
}


gboolean environment_init (void) {
	gboolean result = FALSE;
	gboolean _tmp0_;
	gint _tmp1_ = 0;
	gboolean _tmp2_ = FALSE;
	SDL_Window* _tmp3_;
	SDL_Window* _tmp4_;
	SDL_Window* _tmp5_;
	SDL_GLContext* _tmp6_ = NULL;
	SDL_GLContext* _tmp7_;
	SDL_Window* _tmp9_;
	SDL_Surface* _tmp10_ = NULL;
	SDL_Window* _tmp11_;
	SDL_Window* _tmp12_;
	SDL_Cursor* _tmp13_;
	SDL_Cursor* _tmp14_;
	GRand* _tmp15_;
#line 20 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp0_ = environment_initialized;
#line 20 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (_tmp0_) {
#line 21 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		result = TRUE;
#line 21 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		return result;
#line 138 "Environment.c"
	}
#line 23 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp1_ = SDL_Init ((guint32) SDL_INIT_EVERYTHING);
#line 23 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (_tmp1_ < 0) {
#line 24 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		result = FALSE;
#line 24 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		return result;
#line 148 "Environment.c"
	}
#line 26 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp2_ = sound_init ();
#line 26 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (!_tmp2_) {
#line 28 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		SDL_Quit ();
#line 29 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		result = FALSE;
#line 29 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		return result;
#line 160 "Environment.c"
	}
#line 39 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp3_ = SDL_CreateWindow ("Riichi Mahjong", (gint) SDL_WINDOWPOS_CENTERED_MASK, (gint) SDL_WINDOWPOS_CENTERED_MASK, ENVIRONMENT_ORIGINAL_WINDOW_WIDTH, ENVIRONMENT_ORIGINAL_WINDOW_HEIGHT, (guint32) (SDL_WINDOW_RESIZABLE | SDL_WINDOW_OPENGL));
#line 39 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_SDL_free0 (environment_window);
#line 39 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	environment_window = _tmp3_;
#line 41 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp4_ = environment_window;
#line 41 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (_tmp4_ == NULL) {
#line 43 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		SDL_Quit ();
#line 44 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		sound_quit ();
#line 46 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		result = FALSE;
#line 46 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		return result;
#line 180 "Environment.c"
	}
#line 49 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp5_ = environment_window;
#line 49 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp6_ = SDL_GL_CreateContext (_tmp5_);
#line 49 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	environment_context = _tmp6_;
#line 49 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp7_ = environment_context;
#line 49 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (_tmp7_ == NULL) {
#line 192 "Environment.c"
		SDL_Window* _tmp8_;
#line 51 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		_tmp8_ = environment_window;
#line 51 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		SDL_DestroyWindow (_tmp8_);
#line 52 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		SDL_Quit ();
#line 53 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		sound_quit ();
#line 55 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		result = FALSE;
#line 55 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		return result;
#line 206 "Environment.c"
	}
#line 58 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	SDL_GL_SetAttribute (SDL_GL_CONTEXT_MAJOR_VERSION, 3);
#line 59 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	SDL_GL_SetAttribute (SDL_GL_CONTEXT_MINOR_VERSION, 1);
#line 60 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	SDL_GL_SetSwapInterval (1);
#line 62 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glewInit ();
#line 64 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glEnable (GL_CULL_FACE);
#line 65 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glEnable (GL_DEPTH_TEST);
#line 66 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glDepthFunc ((GLenum) GL_LEQUAL);
#line 68 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glEnable (GL_LINE_SMOOTH);
#line 69 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glEnable (GL_BLEND);
#line 70 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glBlendFunc (GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);
#line 71 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glShadeModel ((GLenum) GL_SMOOTH);
#line 73 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glEnable ((GLenum) GL_LIGHT0);
#line 74 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glEnable ((GLenum) GL_NORMALIZE);
#line 75 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glEnable ((GLenum) GL_COLOR_MATERIAL);
#line 76 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glEnable ((GLenum) GL_LIGHTING);
#line 78 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glLightfv ((GLenum) GL_LIGHT0, (GLenum) GL_AMBIENT, ENVIRONMENT_light_ambient);
#line 79 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glLightfv ((GLenum) GL_LIGHT0, (GLenum) GL_DIFFUSE, ENVIRONMENT_light_diffuse);
#line 80 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glLightfv ((GLenum) GL_LIGHT0, (GLenum) GL_SPECULAR, ENVIRONMENT_light_specular);
#line 81 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glLightfv ((GLenum) GL_LIGHT0, (GLenum) GL_POSITION, ENVIRONMENT_light_position);
#line 83 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glMaterialfv ((GLenum) GL_FRONT, (GLenum) GL_AMBIENT, ENVIRONMENT_mat_ambient);
#line 84 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glMaterialfv ((GLenum) GL_FRONT, (GLenum) GL_DIFFUSE, ENVIRONMENT_mat_diffuse);
#line 85 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glMaterialfv ((GLenum) GL_FRONT, (GLenum) GL_SPECULAR, ENVIRONMENT_mat_specular);
#line 86 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	glMaterialfv ((GLenum) GL_FRONT, (GLenum) GL_SHININESS, ENVIRONMENT_high_shininess);
#line 88 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp9_ = environment_window;
#line 88 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp10_ = IMG_Load ("textures/Icon.png");
#line 88 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	SDL_SetWindowIcon (_tmp9_, _tmp10_);
#line 89 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp11_ = environment_window;
#line 89 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	SDL_SetWindowSize (_tmp11_, ENVIRONMENT_ORIGINAL_WINDOW_WIDTH, ENVIRONMENT_ORIGINAL_WINDOW_HEIGHT);
#line 90 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp12_ = environment_window;
#line 90 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	SDL_ShowWindow (_tmp12_);
#line 92 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	SDL_StartTextInput ();
#line 93 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp13_ = SDL_CreateSystemCursor (SDL_SYSTEM_CURSOR_HAND);
#line 93 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_SDL_FreeCursor0 (environment_hover_cursor);
#line 93 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	environment_hover_cursor = _tmp13_;
#line 94 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp14_ = SDL_CreateSystemCursor (SDL_SYSTEM_CURSOR_ARROW);
#line 94 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_SDL_FreeCursor0 (environment_default_cursor);
#line 94 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	environment_default_cursor = _tmp14_;
#line 95 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp15_ = g_rand_new ();
#line 95 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_g_rand_free0 (environment_rand);
#line 95 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	environment_rand = _tmp15_;
#line 96 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	networking_init ();
#line 102 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	environment_initialized = TRUE;
#line 103 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	result = TRUE;
#line 103 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	return result;
#line 296 "Environment.c"
}


void environment_exit (void) {
	gboolean _tmp0_;
#line 108 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp0_ = environment_initialized;
#line 108 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (_tmp0_) {
#line 306 "Environment.c"
		SDL_GLContext* _tmp1_;
		SDL_Window* _tmp2_;
#line 110 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		_tmp1_ = environment_context;
#line 110 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		SDL_GL_DeleteContext (_tmp1_);
#line 111 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		sound_quit ();
#line 113 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		_tmp2_ = environment_window;
#line 113 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		SDL_DestroyWindow (_tmp2_);
#line 114 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		SDL_StopTextInput ();
#line 115 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		_SDL_FreeCursor0 (environment_default_cursor);
#line 115 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		environment_default_cursor = NULL;
#line 116 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		_SDL_FreeCursor0 (environment_hover_cursor);
#line 116 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		environment_hover_cursor = NULL;
#line 117 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		SDL_Quit ();
#line 118 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		texture_clear_cache ();
#line 333 "Environment.c"
	}
}


void environment_set_cursor (EnvironmentCursorType type) {
	EnvironmentCursorType _tmp0_;
#line 124 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp0_ = type;
#line 124 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	switch (_tmp0_) {
#line 124 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		case ENVIRONMENT_CURSOR_TYPE_HOVER:
#line 346 "Environment.c"
		{
			SDL_Cursor* _tmp1_;
#line 127 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
			_tmp1_ = environment_hover_cursor;
#line 127 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
			SDL_SetCursor (_tmp1_);
#line 128 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
			break;
#line 355 "Environment.c"
		}
#line 124 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		case ENVIRONMENT_CURSOR_TYPE_DEFAULT:
#line 359 "Environment.c"
		{
			SDL_Cursor* _tmp2_;
#line 130 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
			_tmp2_ = environment_default_cursor;
#line 130 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
			SDL_SetCursor (_tmp2_);
#line 131 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
			break;
#line 368 "Environment.c"
		}
		default:
#line 124 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		break;
#line 373 "Environment.c"
	}
}


Environment* environment_construct (GType object_type) {
	Environment* self = NULL;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	self = (Environment*) g_type_create_instance (object_type);
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	return self;
#line 384 "Environment.c"
}


Environment* environment_new (void) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	return environment_construct (TYPE_ENVIRONMENT);
#line 391 "Environment.c"
}


GRand* environment_get_random (void) {
	GRand* result;
	GRand* _tmp0_;
#line 135 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	_tmp0_ = environment_rand;
#line 135 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	result = _tmp0_;
#line 135 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	return result;
#line 404 "Environment.c"
}


static void value_environment_init (GValue* value) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	value->data[0].v_pointer = NULL;
#line 411 "Environment.c"
}


static void value_environment_free_value (GValue* value) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (value->data[0].v_pointer) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		environment_unref (value->data[0].v_pointer);
#line 420 "Environment.c"
	}
}


static void value_environment_copy_value (const GValue* src_value, GValue* dest_value) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (src_value->data[0].v_pointer) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		dest_value->data[0].v_pointer = environment_ref (src_value->data[0].v_pointer);
#line 430 "Environment.c"
	} else {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		dest_value->data[0].v_pointer = NULL;
#line 434 "Environment.c"
	}
}


static gpointer value_environment_peek_pointer (const GValue* value) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	return value->data[0].v_pointer;
#line 442 "Environment.c"
}


static gchar* value_environment_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (collect_values[0].v_pointer) {
#line 449 "Environment.c"
		Environment* object;
		object = collect_values[0].v_pointer;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		if (object->parent_instance.g_class == NULL) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 456 "Environment.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 460 "Environment.c"
		}
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		value->data[0].v_pointer = environment_ref (object);
#line 464 "Environment.c"
	} else {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		value->data[0].v_pointer = NULL;
#line 468 "Environment.c"
	}
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	return NULL;
#line 472 "Environment.c"
}


static gchar* value_environment_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	Environment** object_p;
	object_p = collect_values[0].v_pointer;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (!object_p) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 483 "Environment.c"
	}
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (!value->data[0].v_pointer) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		*object_p = NULL;
#line 489 "Environment.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		*object_p = value->data[0].v_pointer;
#line 493 "Environment.c"
	} else {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		*object_p = environment_ref (value->data[0].v_pointer);
#line 497 "Environment.c"
	}
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	return NULL;
#line 501 "Environment.c"
}


GParamSpec* param_spec_environment (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	ParamSpecEnvironment* spec;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	g_return_val_if_fail (g_type_is_a (object_type, TYPE_ENVIRONMENT), NULL);
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	return G_PARAM_SPEC (spec);
#line 515 "Environment.c"
}


gpointer value_get_environment (const GValue* value) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_ENVIRONMENT), NULL);
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	return value->data[0].v_pointer;
#line 524 "Environment.c"
}


void value_set_environment (GValue* value, gpointer v_object) {
	Environment* old;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_ENVIRONMENT));
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	old = value->data[0].v_pointer;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (v_object) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_ENVIRONMENT));
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		value->data[0].v_pointer = v_object;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		environment_ref (value->data[0].v_pointer);
#line 544 "Environment.c"
	} else {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		value->data[0].v_pointer = NULL;
#line 548 "Environment.c"
	}
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (old) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		environment_unref (old);
#line 554 "Environment.c"
	}
}


void value_take_environment (GValue* value, gpointer v_object) {
	Environment* old;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_ENVIRONMENT));
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	old = value->data[0].v_pointer;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (v_object) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_ENVIRONMENT));
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		value->data[0].v_pointer = v_object;
#line 573 "Environment.c"
	} else {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		value->data[0].v_pointer = NULL;
#line 577 "Environment.c"
	}
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (old) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		environment_unref (old);
#line 583 "Environment.c"
	}
}


static void environment_class_init (EnvironmentClass * klass) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	environment_parent_class = g_type_class_peek_parent (klass);
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	ENVIRONMENT_CLASS (klass)->finalize = environment_finalize;
#line 593 "Environment.c"
}


static void environment_instance_init (Environment * self) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	self->ref_count = 1;
#line 600 "Environment.c"
}


static void environment_finalize (Environment* obj) {
	Environment * self;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	self = ENVIRONMENT (obj);
#line 608 "Environment.c"
}


GType environment_get_type (void) {
	static volatile gsize environment_type_id__volatile = 0;
	if (g_once_init_enter (&environment_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { value_environment_init, value_environment_free_value, value_environment_copy_value, value_environment_peek_pointer, "p", value_environment_collect_value, "p", value_environment_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (EnvironmentClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) environment_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Environment), 0, (GInstanceInitFunc) environment_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType environment_type_id;
		environment_type_id = g_type_register_fundamental (g_type_fundamental_next (), "Environment", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&environment_type_id__volatile, environment_type_id);
	}
	return environment_type_id__volatile;
}


gpointer environment_ref (gpointer instance) {
	Environment* self;
	self = instance;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	g_atomic_int_inc (&self->ref_count);
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	return instance;
#line 633 "Environment.c"
}


void environment_unref (gpointer instance) {
	Environment* self;
	self = instance;
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		ENVIRONMENT_GET_CLASS (self)->finalize (self);
#line 5 "/home/fluffy/RiichiMahjong/source/Helper/Environment.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 646 "Environment.c"
	}
}



