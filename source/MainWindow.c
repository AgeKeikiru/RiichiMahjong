/* MainWindow.c generated by valac 0.16.1, the Vala compiler
 * generated from MainWindow.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <SDL2/SDL_video.h>
#include <stdlib.h>
#include <string.h>
#include <SDL2/SDL_events.h>
#include <SDL2/SDL.h>
#include <float.h>
#include <math.h>
#include <GL/glew.h>
#include <gobject/gvaluecollector.h>


#define TYPE_MAIN_WINDOW (main_window_get_type ())
#define MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MAIN_WINDOW, MainWindow))
#define MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MAIN_WINDOW, MainWindowClass))
#define IS_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MAIN_WINDOW))
#define IS_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MAIN_WINDOW))
#define MAIN_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MAIN_WINDOW, MainWindowClass))

typedef struct _MainWindow MainWindow;
typedef struct _MainWindowClass MainWindowClass;
typedef struct _MainWindowPrivate MainWindowPrivate;

#define TYPE_VIEW (view_get_type ())
#define VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_VIEW, View))
#define VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_VIEW, ViewClass))
#define IS_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_VIEW))
#define IS_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_VIEW))
#define VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_VIEW, ViewClass))

typedef struct _View View;
typedef struct _ViewClass ViewClass;

#define TYPE_MAIN_MENU (main_menu_get_type ())
#define MAIN_MENU(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MAIN_MENU, MainMenu))
#define MAIN_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MAIN_MENU, MainMenuClass))
#define IS_MAIN_MENU(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MAIN_MENU))
#define IS_MAIN_MENU_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MAIN_MENU))
#define MAIN_MENU_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MAIN_MENU, MainMenuClass))

typedef struct _MainMenu MainMenu;
typedef struct _MainMenuClass MainMenuClass;
#define _view_unref0(var) ((var == NULL) ? NULL : (var = (view_unref (var), NULL)))

#define MAIN_MENU_TYPE_MENU_ACTION (main_menu_menu_action_get_type ())

#define TYPE_MAHJONG (mahjong_get_type ())
#define MAHJONG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_MAHJONG, Mahjong))
#define MAHJONG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_MAHJONG, MahjongClass))
#define IS_MAHJONG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_MAHJONG))
#define IS_MAHJONG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_MAHJONG))
#define MAHJONG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_MAHJONG, MahjongClass))

typedef struct _Mahjong Mahjong;
typedef struct _MahjongClass MahjongClass;
typedef struct _ParamSpecMainWindow ParamSpecMainWindow;
typedef struct _ViewPrivate ViewPrivate;
typedef struct _ParamSpecView ParamSpecView;

struct _MainWindow {
	GTypeInstance parent_instance;
	volatile int ref_count;
	MainWindowPrivate * priv;
};

struct _MainWindowClass {
	GTypeClass parent_class;
	void (*finalize) (MainWindow *self);
};

struct _MainWindowPrivate {
	SDL_Window* window;
	View* view;
	gboolean fullscreen;
	guint color_id;
	gboolean exit;
	gboolean restart;
	gint focal_length;
	MainMenu* menu;
};

typedef enum  {
	MAIN_MENU_MENU_ACTION_ACTIVE,
	MAIN_MENU_MENU_ACTION_SINGLE_PLAYER,
	MAIN_MENU_MENU_ACTION_HOST_MULTI_PLAYER,
	MAIN_MENU_MENU_ACTION_JOIN_MULTI_PLAYER,
	MAIN_MENU_MENU_ACTION_OPTIONS,
	MAIN_MENU_MENU_ACTION_EXIT
} MainMenuMenuAction;

struct _ParamSpecMainWindow {
	GParamSpec parent_instance;
};

struct _View {
	GTypeInstance parent_instance;
	volatile int ref_count;
	ViewPrivate * priv;
};

struct _ViewClass {
	GTypeClass parent_class;
	void (*finalize) (View *self);
	void (*process) (View* self, gdouble dt);
	void (*render) (View* self);
	void (*render_selection) (View* self);
	void (*render_interface) (View* self);
	void (*render_interface_selection) (View* self);
	void (*mouse_move) (View* self, gint x, gint y, guint color_id);
	void (*mouse_click) (View* self, gint x, gint y, gint button, gboolean state, guint color_id);
	void (*mouse_wheel) (View* self, gint amount);
};

struct _ParamSpecView {
	GParamSpec parent_instance;
};


static gpointer main_window_parent_class = NULL;
static gpointer view_parent_class = NULL;

gpointer main_window_ref (gpointer instance);
void main_window_unref (gpointer instance);
GParamSpec* param_spec_main_window (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_main_window (GValue* value, gpointer v_object);
void value_take_main_window (GValue* value, gpointer v_object);
gpointer value_get_main_window (const GValue* value);
GType main_window_get_type (void) G_GNUC_CONST;
gpointer view_ref (gpointer instance);
void view_unref (gpointer instance);
GParamSpec* param_spec_view (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void value_set_view (GValue* value, gpointer v_object);
void value_take_view (GValue* value, gpointer v_object);
gpointer value_get_view (const GValue* value);
GType view_get_type (void) G_GNUC_CONST;
GType main_menu_get_type (void) G_GNUC_CONST;
#define MAIN_WINDOW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_MAIN_WINDOW, MainWindowPrivate))
enum  {
	MAIN_WINDOW_DUMMY_PROPERTY
};
static void main_window_menu_action (MainWindow* self, MainMenu* m);
static void _main_window_menu_action_main_menu_menu_action (MainMenu* _sender, gpointer self);
void networking_close_connections (void);
MainWindow* main_window_new (SDL_Window* window);
MainWindow* main_window_construct (GType object_type, SDL_Window* window);
MainMenu* main_menu_new (SDL_Window* window);
MainMenu* main_menu_construct (GType object_type, SDL_Window* window);
GType main_menu_menu_action_get_type (void) G_GNUC_CONST;
MainMenuMenuAction main_menu_get_action (MainMenu* self);
Mahjong* mahjong_new (SDL_Window* window);
Mahjong* mahjong_construct (GType object_type, SDL_Window* window);
GType mahjong_get_type (void) G_GNUC_CONST;
gboolean networking_host (void);
gboolean networking_join (const gchar* addr);
gboolean main_window_loop (MainWindow* self);
static void main_window_key (MainWindow* self, gchar key);
void view_mouse_move (View* self, gint x, gint y, guint color_id);
void view_mouse_click (View* self, gint x, gint y, gint button, gboolean state, guint color_id);
void view_mouse_wheel (View* self, gint amount);
void view_process (View* self, gdouble dt);
static void main_window_render (MainWindow* self);
static void main_window_toggle_fullscreen (MainWindow* self);
static guint main_window_get_color_id (MainWindow* self);
static void main_window_setup_projection (MainWindow* self, gboolean ortho);
void view_render (View* self);
void view_render_interface (View* self);
void view_render_selection (View* self);
void view_render_interface_selection (View* self);
static void main_window_finalize (MainWindow* obj);
enum  {
	VIEW_DUMMY_PROPERTY
};
static void view_real_process (View* self, gdouble dt);
static void view_real_render (View* self);
static void view_real_render_selection (View* self);
static void view_real_render_interface (View* self);
static void view_real_render_interface_selection (View* self);
static void view_real_mouse_move (View* self, gint x, gint y, guint color_id);
static void view_real_mouse_click (View* self, gint x, gint y, gint button, gboolean state, guint color_id);
static void view_real_mouse_wheel (View* self, gint amount);
View* view_construct (GType object_type);
static void view_finalize (View* obj);


static void _main_window_menu_action_main_menu_menu_action (MainMenu* _sender, gpointer self) {
#line 30 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	main_window_menu_action (self, _sender);
#line 194 "MainWindow.c"
}


static gpointer _view_ref0 (gpointer self) {
#line 24 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return self ? view_ref (self) : NULL;
#line 201 "MainWindow.c"
}


MainWindow* main_window_construct (GType object_type, SDL_Window* window) {
	MainWindow* self = NULL;
	SDL_Window* _tmp0_;
	SDL_Window* _tmp1_;
	MainMenu* _tmp2_;
	MainMenu* _tmp3_;
	View* _tmp4_;
	MainMenu* _tmp5_;
#line 20 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_val_if_fail (window != NULL, NULL);
#line 20 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self = (MainWindow*) g_type_create_instance (object_type);
#line 22 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp0_ = window;
#line 22 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->priv->window = _tmp0_;
#line 23 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp1_ = window;
#line 23 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp2_ = main_menu_new (_tmp1_);
#line 23 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_view_unref0 (self->priv->menu);
#line 23 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->priv->menu = _tmp2_;
#line 24 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp3_ = self->priv->menu;
#line 24 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp4_ = _view_ref0 ((View*) _tmp3_);
#line 24 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_view_unref0 (self->priv->view);
#line 24 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->priv->view = _tmp4_;
#line 25 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp5_ = self->priv->menu;
#line 25 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_signal_connect (_tmp5_, "menu-action", (GCallback) _main_window_menu_action_main_menu_menu_action, self);
#line 20 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return self;
#line 243 "MainWindow.c"
}


MainWindow* main_window_new (SDL_Window* window) {
#line 20 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return main_window_construct (TYPE_MAIN_WINDOW, window);
#line 250 "MainWindow.c"
}


static void main_window_menu_action (MainWindow* self, MainMenu* m) {
	MainMenu* _tmp0_;
	MainMenuMenuAction _tmp1_;
	MainMenuMenuAction _tmp2_;
#line 34 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 34 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (m != NULL);
#line 36 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp0_ = m;
#line 36 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp1_ = main_menu_get_action (_tmp0_);
#line 36 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp2_ = _tmp1_;
#line 36 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	switch (_tmp2_) {
#line 36 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		case MAIN_MENU_MENU_ACTION_SINGLE_PLAYER:
#line 272 "MainWindow.c"
		{
			SDL_Window* _tmp3_;
			Mahjong* _tmp4_;
#line 39 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			_tmp3_ = self->priv->window;
#line 39 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			_tmp4_ = mahjong_new (_tmp3_);
#line 39 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			_view_unref0 (self->priv->view);
#line 39 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			self->priv->view = (View*) _tmp4_;
#line 40 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			break;
#line 286 "MainWindow.c"
		}
#line 36 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		case MAIN_MENU_MENU_ACTION_HOST_MULTI_PLAYER:
#line 290 "MainWindow.c"
		{
#line 42 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			networking_host ();
#line 43 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			break;
#line 296 "MainWindow.c"
		}
#line 36 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		case MAIN_MENU_MENU_ACTION_JOIN_MULTI_PLAYER:
#line 300 "MainWindow.c"
		{
#line 45 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			networking_join ("localhost");
#line 46 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			break;
#line 306 "MainWindow.c"
		}
#line 36 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		case MAIN_MENU_MENU_ACTION_EXIT:
#line 310 "MainWindow.c"
		{
#line 48 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			self->priv->exit = TRUE;
#line 49 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			break;
#line 316 "MainWindow.c"
		}
		default:
#line 36 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		break;
#line 321 "MainWindow.c"
	}
}


gboolean main_window_loop (MainWindow* self) {
	gboolean result = FALSE;
	SDL_Event e = {0};
	gboolean _tmp47_;
#line 53 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 57 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	while (TRUE) {
#line 334 "MainWindow.c"
		gboolean _tmp0_;
		View* _tmp46_;
#line 57 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		_tmp0_ = self->priv->exit;
#line 57 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		if (!(!_tmp0_)) {
#line 57 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			break;
#line 343 "MainWindow.c"
		}
#line 59 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		while (TRUE) {
#line 347 "MainWindow.c"
			SDL_Event _tmp1_ = {0};
			gint _tmp2_ = 0;
			SDL_Event _tmp3_;
			SDL_EventType _tmp4_;
#line 59 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			_tmp2_ = SDL_PollEvent (&_tmp1_);
#line 59 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			 (e);
#line 59 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			e = _tmp1_;
#line 59 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			if (!(_tmp2_ != 0)) {
#line 59 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
				break;
#line 362 "MainWindow.c"
			}
#line 61 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			_tmp3_ = e;
#line 61 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			_tmp4_ = _tmp3_.type;
#line 61 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			if (_tmp4_ == SDL_QUIT) {
#line 62 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
				self->priv->exit = TRUE;
#line 372 "MainWindow.c"
			} else {
				SDL_Event _tmp5_;
				SDL_EventType _tmp6_;
#line 63 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
				_tmp5_ = e;
#line 63 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
				_tmp6_ = _tmp5_.type;
#line 63 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
				if (_tmp6_ == SDL_KEYDOWN) {
#line 382 "MainWindow.c"
					SDL_Event _tmp7_;
					SDL_KeyboardEvent _tmp8_;
					SDL_Keysym _tmp9_;
					SDL_Keycode _tmp10_;
#line 64 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
					_tmp7_ = e;
#line 64 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
					_tmp8_ = _tmp7_.key;
#line 64 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
					_tmp9_ = _tmp8_.keysym;
#line 64 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
					_tmp10_ = _tmp9_.sym;
#line 64 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
					main_window_key (self, (gchar) _tmp10_);
#line 397 "MainWindow.c"
				} else {
					SDL_Event _tmp11_;
					SDL_EventType _tmp12_;
#line 65 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
					_tmp11_ = e;
#line 65 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
					_tmp12_ = _tmp11_.type;
#line 65 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
					if (_tmp12_ == SDL_MOUSEMOTION) {
#line 407 "MainWindow.c"
						gint x;
						gint y;
						gint width = 0;
						gint height = 0;
						SDL_Window* _tmp13_;
						gint _tmp14_ = 0;
						gint _tmp15_ = 0;
						View* _tmp16_;
						gint _tmp17_;
						gint _tmp18_;
						gint _tmp19_;
						guint _tmp20_;
#line 67 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						x = 0;
#line 67 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						y = 0;
#line 68 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						SDL_GetMouseState (&x, &y);
#line 69 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						_tmp13_ = self->priv->window;
#line 69 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						SDL_GetWindowSize (_tmp13_, &_tmp14_, &_tmp15_);
#line 69 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						width = _tmp14_;
#line 69 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						height = _tmp15_;
#line 70 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						_tmp16_ = self->priv->view;
#line 70 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						_tmp17_ = x;
#line 70 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						_tmp18_ = height;
#line 70 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						_tmp19_ = y;
#line 70 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						_tmp20_ = self->priv->color_id;
#line 70 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						view_mouse_move (_tmp16_, _tmp17_, _tmp18_ - _tmp19_, _tmp20_);
#line 446 "MainWindow.c"
					} else {
						gboolean _tmp21_ = FALSE;
						SDL_Event _tmp22_;
						SDL_EventType _tmp23_;
						gboolean _tmp26_;
#line 72 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						_tmp22_ = e;
#line 72 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						_tmp23_ = _tmp22_.type;
#line 72 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						if (_tmp23_ == SDL_MOUSEBUTTONDOWN) {
#line 72 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp21_ = TRUE;
#line 460 "MainWindow.c"
						} else {
							SDL_Event _tmp24_;
							SDL_EventType _tmp25_;
#line 72 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp24_ = e;
#line 72 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp25_ = _tmp24_.type;
#line 72 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp21_ = _tmp25_ == SDL_MOUSEBUTTONUP;
#line 470 "MainWindow.c"
						}
#line 72 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						_tmp26_ = _tmp21_;
#line 72 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
						if (_tmp26_) {
#line 476 "MainWindow.c"
							gint x;
							gint y;
							gint width = 0;
							gint height = 0;
							SDL_Window* _tmp27_;
							gint _tmp28_ = 0;
							gint _tmp29_ = 0;
							View* _tmp30_;
							gint _tmp31_;
							gint _tmp32_;
							gint _tmp33_;
							SDL_Event _tmp34_;
							SDL_MouseButtonEvent _tmp35_;
							guint8 _tmp36_;
							SDL_Event _tmp37_;
							SDL_EventType _tmp38_;
							guint _tmp39_;
#line 74 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							x = 0;
#line 74 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							y = 0;
#line 75 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							SDL_GetMouseState (&x, &y);
#line 76 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp27_ = self->priv->window;
#line 76 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							SDL_GetWindowSize (_tmp27_, &_tmp28_, &_tmp29_);
#line 76 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							width = _tmp28_;
#line 76 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							height = _tmp29_;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp30_ = self->priv->view;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp31_ = x;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp32_ = height;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp33_ = y;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp34_ = e;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp35_ = _tmp34_.button;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp36_ = _tmp35_.button;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp37_ = e;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp38_ = _tmp37_.type;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp39_ = self->priv->color_id;
#line 77 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							view_mouse_click (_tmp30_, _tmp31_, _tmp32_ - _tmp33_, (gint) _tmp36_, _tmp38_ == SDL_MOUSEBUTTONUP, _tmp39_);
#line 530 "MainWindow.c"
						} else {
							SDL_Event _tmp40_;
							SDL_EventType _tmp41_;
#line 79 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp40_ = e;
#line 79 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							_tmp41_ = _tmp40_.type;
#line 79 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
							if (_tmp41_ == SDL_MOUSEWHEEL) {
#line 540 "MainWindow.c"
								View* _tmp42_;
								SDL_Event _tmp43_;
								SDL_MouseWheelEvent _tmp44_;
								gint32 _tmp45_;
#line 80 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
								_tmp42_ = self->priv->view;
#line 80 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
								_tmp43_ = e;
#line 80 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
								_tmp44_ = _tmp43_.wheel;
#line 80 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
								_tmp45_ = _tmp44_.y;
#line 80 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
								view_mouse_wheel (_tmp42_, (gint) _tmp45_);
#line 555 "MainWindow.c"
							}
						}
					}
				}
			}
		}
#line 83 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		_tmp46_ = self->priv->view;
#line 83 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		view_process (_tmp46_, 0.1);
#line 84 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		main_window_render (self);
#line 568 "MainWindow.c"
	}
#line 87 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp47_ = self->priv->restart;
#line 87 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	result = _tmp47_;
#line 87 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	 (e);
#line 87 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return result;
#line 578 "MainWindow.c"
}


static void main_window_key (MainWindow* self, gchar key) {
	gchar _tmp0_;
#line 90 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 92 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp0_ = key;
#line 92 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	switch (_tmp0_) {
#line 92 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		case 27:
#line 92 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		case 'q':
#line 594 "MainWindow.c"
		{
#line 96 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			self->priv->exit = TRUE;
#line 97 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			break;
#line 600 "MainWindow.c"
		}
#line 92 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		case 'f':
#line 604 "MainWindow.c"
		{
#line 99 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			main_window_toggle_fullscreen (self);
#line 100 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			break;
#line 610 "MainWindow.c"
		}
#line 92 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		case 'r':
#line 614 "MainWindow.c"
		{
#line 102 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			self->priv->restart = TRUE;
#line 103 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			self->priv->exit = TRUE;
#line 104 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			break;
#line 622 "MainWindow.c"
		}
		default:
#line 92 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		break;
#line 627 "MainWindow.c"
	}
}


static void main_window_toggle_fullscreen (MainWindow* self) {
	SDL_WindowFlags _tmp0_ = 0;
	gboolean _tmp1_;
	gboolean _tmp2_;
	SDL_Window* _tmp3_;
	SDL_WindowFlags _tmp4_;
#line 108 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 110 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp1_ = self->priv->fullscreen;
#line 110 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->priv->fullscreen = !_tmp1_;
#line 110 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp2_ = self->priv->fullscreen;
#line 110 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (_tmp2_) {
#line 110 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		_tmp0_ = SDL_WINDOW_FULLSCREEN_DESKTOP;
#line 650 "MainWindow.c"
	} else {
#line 110 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		_tmp0_ = 0;
#line 654 "MainWindow.c"
	}
#line 110 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp3_ = self->priv->window;
#line 110 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp4_ = _tmp0_;
#line 110 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	SDL_SetWindowFullscreen (_tmp3_, (guint32) _tmp4_);
#line 662 "MainWindow.c"
}


static guint main_window_get_color_id (MainWindow* self) {
	guint result = 0U;
	guchar color[3] = {0};
	gint x;
	gint y;
	gint width = 0;
	gint height = 0;
	SDL_Window* _tmp0_;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	gint _tmp3_;
	gint _tmp4_;
	guchar _tmp5_;
	guchar _tmp6_;
	guchar _tmp7_;
#line 113 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_val_if_fail (self != NULL, 0U);
#line 116 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	x = 0;
#line 116 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	y = 0;
#line 117 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	SDL_GetMouseState (&x, &y);
#line 118 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp0_ = self->priv->window;
#line 118 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	SDL_GetWindowSize (_tmp0_, &_tmp1_, &_tmp2_);
#line 118 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	width = _tmp1_;
#line 118 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	height = _tmp2_;
#line 119 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp3_ = x;
#line 119 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp4_ = y;
#line 119 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glReadPixels ((GLint) _tmp3_, (GLint) (height - _tmp4_), (GLsizei) 1, (GLsizei) 1, (GLenum) GL_RGB, (GLenum) GL_UNSIGNED_BYTE, (GLvoid*) color);
#line 120 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp5_ = color[0];
#line 120 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp6_ = color[1];
#line 120 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp7_ = color[2];
#line 120 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	result = ((((guint) _tmp5_) << 16) + (((guint) _tmp6_) << 8)) + ((guint) _tmp7_);
#line 120 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return result;
#line 713 "MainWindow.c"
}


static void main_window_render (MainWindow* self) {
	guint _tmp0_ = 0U;
	View* _tmp1_;
	View* _tmp2_;
	SDL_Window* _tmp3_;
	View* _tmp4_;
	View* _tmp5_;
#line 123 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 125 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp0_ = main_window_get_color_id (self);
#line 125 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->priv->color_id = _tmp0_;
#line 126 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPushMatrix ();
#line 127 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPushAttrib ((GLbitfield) GL_ALL_ATTRIB_BITS);
#line 128 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	main_window_setup_projection (self, FALSE);
#line 129 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glClear (GL_DEPTH_BUFFER_BIT);
#line 130 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glClearColor ((GLfloat) 0, (GLfloat) 0.1, (GLfloat) 0.2, (GLfloat) 0);
#line 131 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glClear (GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
#line 132 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp1_ = self->priv->view;
#line 132 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	view_render (_tmp1_);
#line 133 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPopAttrib ();
#line 134 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPopMatrix ();
#line 136 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPushMatrix ();
#line 137 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPushAttrib ((GLbitfield) GL_ALL_ATTRIB_BITS);
#line 138 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	main_window_setup_projection (self, TRUE);
#line 139 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glClear (GL_DEPTH_BUFFER_BIT);
#line 141 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glDisable (GL_DEPTH_TEST);
#line 142 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glDisable ((GLenum) GL_LIGHTING);
#line 143 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glEnable ((GLenum) GL_TEXTURE_2D);
#line 144 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glEnable ((GLenum) GL_COLOR_SUM);
#line 145 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glDepthFunc ((GLenum) GL_LEQUAL);
#line 146 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp2_ = self->priv->view;
#line 146 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	view_render_interface (_tmp2_);
#line 148 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPopAttrib ();
#line 149 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPopMatrix ();
#line 151 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp3_ = self->priv->window;
#line 151 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	SDL_GL_SwapWindow (_tmp3_);
#line 153 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPushMatrix ();
#line 154 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPushAttrib ((GLbitfield) GL_ALL_ATTRIB_BITS);
#line 155 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	main_window_setup_projection (self, FALSE);
#line 156 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glClearColor ((GLfloat) 0, (GLfloat) 0, (GLfloat) 0, (GLfloat) 0);
#line 157 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glClear (GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
#line 158 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp4_ = self->priv->view;
#line 158 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	view_render_selection (_tmp4_);
#line 159 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPopAttrib ();
#line 160 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPopMatrix ();
#line 162 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPushMatrix ();
#line 163 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPushAttrib ((GLbitfield) GL_ALL_ATTRIB_BITS);
#line 164 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glClear (GL_DEPTH_BUFFER_BIT);
#line 165 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	main_window_setup_projection (self, TRUE);
#line 167 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glDisable (GL_DEPTH_TEST);
#line 168 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glDisable ((GLenum) GL_LIGHTING);
#line 169 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glEnable ((GLenum) GL_COLOR_SUM);
#line 170 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glDepthFunc ((GLenum) GL_LEQUAL);
#line 171 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp5_ = self->priv->view;
#line 171 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	view_render_interface_selection (_tmp5_);
#line 173 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPopAttrib ();
#line 174 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glPopMatrix ();
#line 822 "MainWindow.c"
}


static void main_window_setup_projection (MainWindow* self, gboolean ortho) {
	gint width = 0;
	gint height = 0;
	SDL_Window* _tmp0_;
	gint _tmp1_ = 0;
	gint _tmp2_ = 0;
	gint _tmp3_;
	gint _tmp4_;
	gfloat ar;
	gint _tmp5_;
	gint _tmp6_;
	gboolean _tmp7_;
#line 179 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 182 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp0_ = self->priv->window;
#line 182 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	SDL_GetWindowSize (_tmp0_, &_tmp1_, &_tmp2_);
#line 182 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	width = _tmp1_;
#line 182 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	height = _tmp2_;
#line 184 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp3_ = width;
#line 184 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp4_ = height;
#line 184 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	ar = ((gfloat) _tmp3_) / ((gfloat) _tmp4_);
#line 185 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp5_ = width;
#line 185 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp6_ = height;
#line 185 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glViewport ((GLint) 0, (GLint) 0, (GLsizei) _tmp5_, (GLsizei) _tmp6_);
#line 187 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glMatrixMode (GL_PROJECTION);
#line 188 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glLoadIdentity ();
#line 189 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp7_ = ortho;
#line 189 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (_tmp7_) {
#line 190 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		glOrtho ((GLdouble) 0, (GLdouble) 0, (GLdouble) 0, (GLdouble) 0, (GLdouble) 0, (GLdouble) 0);
#line 870 "MainWindow.c"
	} else {
		gfloat _tmp8_;
		gfloat _tmp9_;
		gint _tmp10_;
#line 192 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		_tmp8_ = ar;
#line 192 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		_tmp9_ = ar;
#line 192 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		_tmp10_ = self->priv->focal_length;
#line 192 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		glFrustum (-((GLdouble) _tmp8_), (GLdouble) _tmp9_, -((GLdouble) 1.0), (GLdouble) 1.0, (GLdouble) _tmp10_, (GLdouble) 1000.0);
#line 883 "MainWindow.c"
	}
#line 194 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glMatrixMode (GL_MODELVIEW);
#line 195 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	glLoadIdentity ();
#line 889 "MainWindow.c"
}


static void value_main_window_init (GValue* value) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	value->data[0].v_pointer = NULL;
#line 896 "MainWindow.c"
}


static void value_main_window_free_value (GValue* value) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (value->data[0].v_pointer) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		main_window_unref (value->data[0].v_pointer);
#line 905 "MainWindow.c"
	}
}


static void value_main_window_copy_value (const GValue* src_value, GValue* dest_value) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (src_value->data[0].v_pointer) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		dest_value->data[0].v_pointer = main_window_ref (src_value->data[0].v_pointer);
#line 915 "MainWindow.c"
	} else {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		dest_value->data[0].v_pointer = NULL;
#line 919 "MainWindow.c"
	}
}


static gpointer value_main_window_peek_pointer (const GValue* value) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return value->data[0].v_pointer;
#line 927 "MainWindow.c"
}


static gchar* value_main_window_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (collect_values[0].v_pointer) {
#line 934 "MainWindow.c"
		MainWindow* object;
		object = collect_values[0].v_pointer;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		if (object->parent_instance.g_class == NULL) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 941 "MainWindow.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 945 "MainWindow.c"
		}
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = main_window_ref (object);
#line 949 "MainWindow.c"
	} else {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = NULL;
#line 953 "MainWindow.c"
	}
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return NULL;
#line 957 "MainWindow.c"
}


static gchar* value_main_window_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	MainWindow** object_p;
	object_p = collect_values[0].v_pointer;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (!object_p) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 968 "MainWindow.c"
	}
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (!value->data[0].v_pointer) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		*object_p = NULL;
#line 974 "MainWindow.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		*object_p = value->data[0].v_pointer;
#line 978 "MainWindow.c"
	} else {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		*object_p = main_window_ref (value->data[0].v_pointer);
#line 982 "MainWindow.c"
	}
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return NULL;
#line 986 "MainWindow.c"
}


GParamSpec* param_spec_main_window (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	ParamSpecMainWindow* spec;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_val_if_fail (g_type_is_a (object_type, TYPE_MAIN_WINDOW), NULL);
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return G_PARAM_SPEC (spec);
#line 1000 "MainWindow.c"
}


gpointer value_get_main_window (const GValue* value) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_MAIN_WINDOW), NULL);
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return value->data[0].v_pointer;
#line 1009 "MainWindow.c"
}


void value_set_main_window (GValue* value, gpointer v_object) {
	MainWindow* old;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_MAIN_WINDOW));
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	old = value->data[0].v_pointer;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (v_object) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_MAIN_WINDOW));
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = v_object;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		main_window_ref (value->data[0].v_pointer);
#line 1029 "MainWindow.c"
	} else {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = NULL;
#line 1033 "MainWindow.c"
	}
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (old) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		main_window_unref (old);
#line 1039 "MainWindow.c"
	}
}


void value_take_main_window (GValue* value, gpointer v_object) {
	MainWindow* old;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_MAIN_WINDOW));
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	old = value->data[0].v_pointer;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (v_object) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_MAIN_WINDOW));
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = v_object;
#line 1058 "MainWindow.c"
	} else {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = NULL;
#line 1062 "MainWindow.c"
	}
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (old) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		main_window_unref (old);
#line 1068 "MainWindow.c"
	}
}


static void main_window_class_init (MainWindowClass * klass) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	main_window_parent_class = g_type_class_peek_parent (klass);
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	MAIN_WINDOW_CLASS (klass)->finalize = main_window_finalize;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_type_class_add_private (klass, sizeof (MainWindowPrivate));
#line 1080 "MainWindow.c"
}


static void main_window_instance_init (MainWindow * self) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->priv = MAIN_WINDOW_GET_PRIVATE (self);
#line 9 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->priv->fullscreen = FALSE;
#line 12 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->priv->exit = FALSE;
#line 13 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->priv->restart = FALSE;
#line 15 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->priv->focal_length = 2;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->ref_count = 1;
#line 1097 "MainWindow.c"
}


static void main_window_finalize (MainWindow* obj) {
	MainWindow * self;
	MainMenu* _tmp0_;
	guint _tmp1_ = 0U;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self = MAIN_WINDOW (obj);
#line 30 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_tmp0_ = self->priv->menu;
#line 30 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_signal_parse_name ("menu-action", TYPE_MAIN_MENU, &_tmp1_, NULL, FALSE);
#line 30 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_signal_handlers_disconnect_matched (_tmp0_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, 0, NULL, (GCallback) _main_window_menu_action_main_menu_menu_action, self);
#line 31 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	networking_close_connections ();
#line 8 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_view_unref0 (self->priv->view);
#line 18 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	_view_unref0 (self->priv->menu);
#line 1119 "MainWindow.c"
}


GType main_window_get_type (void) {
	static volatile gsize main_window_type_id__volatile = 0;
	if (g_once_init_enter (&main_window_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { value_main_window_init, value_main_window_free_value, value_main_window_copy_value, value_main_window_peek_pointer, "p", value_main_window_collect_value, "p", value_main_window_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (MainWindowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) main_window_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (MainWindow), 0, (GInstanceInitFunc) main_window_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType main_window_type_id;
		main_window_type_id = g_type_register_fundamental (g_type_fundamental_next (), "MainWindow", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&main_window_type_id__volatile, main_window_type_id);
	}
	return main_window_type_id__volatile;
}


gpointer main_window_ref (gpointer instance) {
	MainWindow* self;
	self = instance;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_atomic_int_inc (&self->ref_count);
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return instance;
#line 1144 "MainWindow.c"
}


void main_window_unref (gpointer instance) {
	MainWindow* self;
	self = instance;
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		MAIN_WINDOW_GET_CLASS (self)->finalize (self);
#line 4 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 1157 "MainWindow.c"
	}
}


static void view_real_process (View* self, gdouble dt) {
#line 201 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_critical ("Type `%s' does not implement abstract method `view_process'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 201 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return;
#line 1167 "MainWindow.c"
}


void view_process (View* self, gdouble dt) {
#line 201 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 201 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_GET_CLASS (self)->process (self, dt);
#line 1176 "MainWindow.c"
}


static void view_real_render (View* self) {
#line 202 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_critical ("Type `%s' does not implement abstract method `view_render'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 202 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return;
#line 1185 "MainWindow.c"
}


void view_render (View* self) {
#line 202 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 202 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_GET_CLASS (self)->render (self);
#line 1194 "MainWindow.c"
}


static void view_real_render_selection (View* self) {
#line 203 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_critical ("Type `%s' does not implement abstract method `view_render_selection'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 203 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return;
#line 1203 "MainWindow.c"
}


void view_render_selection (View* self) {
#line 203 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 203 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_GET_CLASS (self)->render_selection (self);
#line 1212 "MainWindow.c"
}


static void view_real_render_interface (View* self) {
#line 204 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_critical ("Type `%s' does not implement abstract method `view_render_interface'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 204 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return;
#line 1221 "MainWindow.c"
}


void view_render_interface (View* self) {
#line 204 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 204 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_GET_CLASS (self)->render_interface (self);
#line 1230 "MainWindow.c"
}


static void view_real_render_interface_selection (View* self) {
#line 205 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_critical ("Type `%s' does not implement abstract method `view_render_interface_selection'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 205 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return;
#line 1239 "MainWindow.c"
}


void view_render_interface_selection (View* self) {
#line 205 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 205 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_GET_CLASS (self)->render_interface_selection (self);
#line 1248 "MainWindow.c"
}


static void view_real_mouse_move (View* self, gint x, gint y, guint color_id) {
#line 206 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_critical ("Type `%s' does not implement abstract method `view_mouse_move'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 206 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return;
#line 1257 "MainWindow.c"
}


void view_mouse_move (View* self, gint x, gint y, guint color_id) {
#line 206 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 206 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_GET_CLASS (self)->mouse_move (self, x, y, color_id);
#line 1266 "MainWindow.c"
}


static void view_real_mouse_click (View* self, gint x, gint y, gint button, gboolean state, guint color_id) {
#line 207 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_critical ("Type `%s' does not implement abstract method `view_mouse_click'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 207 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return;
#line 1275 "MainWindow.c"
}


void view_mouse_click (View* self, gint x, gint y, gint button, gboolean state, guint color_id) {
#line 207 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 207 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_GET_CLASS (self)->mouse_click (self, x, y, button, state, color_id);
#line 1284 "MainWindow.c"
}


static void view_real_mouse_wheel (View* self, gint amount) {
#line 208 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_critical ("Type `%s' does not implement abstract method `view_mouse_wheel'", g_type_name (G_TYPE_FROM_INSTANCE (self)));
#line 208 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return;
#line 1293 "MainWindow.c"
}


void view_mouse_wheel (View* self, gint amount) {
#line 208 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (self != NULL);
#line 208 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_GET_CLASS (self)->mouse_wheel (self, amount);
#line 1302 "MainWindow.c"
}


View* view_construct (GType object_type) {
	View* self = NULL;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self = (View*) g_type_create_instance (object_type);
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return self;
#line 1312 "MainWindow.c"
}


static void value_view_init (GValue* value) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	value->data[0].v_pointer = NULL;
#line 1319 "MainWindow.c"
}


static void value_view_free_value (GValue* value) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (value->data[0].v_pointer) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		view_unref (value->data[0].v_pointer);
#line 1328 "MainWindow.c"
	}
}


static void value_view_copy_value (const GValue* src_value, GValue* dest_value) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (src_value->data[0].v_pointer) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		dest_value->data[0].v_pointer = view_ref (src_value->data[0].v_pointer);
#line 1338 "MainWindow.c"
	} else {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		dest_value->data[0].v_pointer = NULL;
#line 1342 "MainWindow.c"
	}
}


static gpointer value_view_peek_pointer (const GValue* value) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return value->data[0].v_pointer;
#line 1350 "MainWindow.c"
}


static gchar* value_view_collect_value (GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (collect_values[0].v_pointer) {
#line 1357 "MainWindow.c"
		View* object;
		object = collect_values[0].v_pointer;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		if (object->parent_instance.g_class == NULL) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 1364 "MainWindow.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 1368 "MainWindow.c"
		}
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = view_ref (object);
#line 1372 "MainWindow.c"
	} else {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = NULL;
#line 1376 "MainWindow.c"
	}
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return NULL;
#line 1380 "MainWindow.c"
}


static gchar* value_view_lcopy_value (const GValue* value, guint n_collect_values, GTypeCValue* collect_values, guint collect_flags) {
	View** object_p;
	object_p = collect_values[0].v_pointer;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (!object_p) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 1391 "MainWindow.c"
	}
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (!value->data[0].v_pointer) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		*object_p = NULL;
#line 1397 "MainWindow.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		*object_p = value->data[0].v_pointer;
#line 1401 "MainWindow.c"
	} else {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		*object_p = view_ref (value->data[0].v_pointer);
#line 1405 "MainWindow.c"
	}
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return NULL;
#line 1409 "MainWindow.c"
}


GParamSpec* param_spec_view (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags) {
	ParamSpecView* spec;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_val_if_fail (g_type_is_a (object_type, TYPE_VIEW), NULL);
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return G_PARAM_SPEC (spec);
#line 1423 "MainWindow.c"
}


gpointer value_get_view (const GValue* value) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_VIEW), NULL);
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return value->data[0].v_pointer;
#line 1432 "MainWindow.c"
}


void value_set_view (GValue* value, gpointer v_object) {
	View* old;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_VIEW));
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	old = value->data[0].v_pointer;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (v_object) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_VIEW));
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = v_object;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		view_ref (value->data[0].v_pointer);
#line 1452 "MainWindow.c"
	} else {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = NULL;
#line 1456 "MainWindow.c"
	}
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (old) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		view_unref (old);
#line 1462 "MainWindow.c"
	}
}


void value_take_view (GValue* value, gpointer v_object) {
	View* old;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, TYPE_VIEW));
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	old = value->data[0].v_pointer;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (v_object) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, TYPE_VIEW));
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = v_object;
#line 1481 "MainWindow.c"
	} else {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		value->data[0].v_pointer = NULL;
#line 1485 "MainWindow.c"
	}
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (old) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		view_unref (old);
#line 1491 "MainWindow.c"
	}
}


static void view_class_init (ViewClass * klass) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	view_parent_class = g_type_class_peek_parent (klass);
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_CLASS (klass)->finalize = view_finalize;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_CLASS (klass)->process = view_real_process;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_CLASS (klass)->render = view_real_render;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_CLASS (klass)->render_selection = view_real_render_selection;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_CLASS (klass)->render_interface = view_real_render_interface;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_CLASS (klass)->render_interface_selection = view_real_render_interface_selection;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_CLASS (klass)->mouse_move = view_real_mouse_move;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_CLASS (klass)->mouse_click = view_real_mouse_click;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	VIEW_CLASS (klass)->mouse_wheel = view_real_mouse_wheel;
#line 1517 "MainWindow.c"
}


static void view_instance_init (View * self) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self->ref_count = 1;
#line 1524 "MainWindow.c"
}


static void view_finalize (View* obj) {
	View * self;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	self = VIEW (obj);
#line 1532 "MainWindow.c"
}


GType view_get_type (void) {
	static volatile gsize view_type_id__volatile = 0;
	if (g_once_init_enter (&view_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { value_view_init, value_view_free_value, value_view_copy_value, value_view_peek_pointer, "p", value_view_collect_value, "p", value_view_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (ViewClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) view_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (View), 0, (GInstanceInitFunc) view_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType view_type_id;
		view_type_id = g_type_register_fundamental (g_type_fundamental_next (), "View", &g_define_type_info, &g_define_type_fundamental_info, G_TYPE_FLAG_ABSTRACT);
		g_once_init_leave (&view_type_id__volatile, view_type_id);
	}
	return view_type_id__volatile;
}


gpointer view_ref (gpointer instance) {
	View* self;
	self = instance;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	g_atomic_int_inc (&self->ref_count);
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	return instance;
#line 1557 "MainWindow.c"
}


void view_unref (gpointer instance) {
	View* self;
	self = instance;
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		VIEW_GET_CLASS (self)->finalize (self);
#line 199 "/home/fluffy/RiichiMahjong/source/MainWindow.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 1570 "MainWindow.c"
	}
}



